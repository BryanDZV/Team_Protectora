<section class="detContainer">
  <div *ngIf="animals" class="cabeceraImg">
    <button routerLink="/gallery"><</button>
    <img class="cabeceraImg-foto" src="{{ animals.foto }}" alt="" />
  </div>
  <div class="card-container">
    <div class="card-cabecera">
      <div *ngIf="animals" class="card-cabecera-gender">
        <img
          [src]="
            animals.genero === 'Macho'
              ? '../../../assets/primary_icons/genre_square/genre_male_square/male@3x.png'
              : '../../../assets/primary_icons/genre_square/genre_female_square/female@3x.png'
          "
          alt=""
        />
      </div>
      <div class="card-cabecera-data">
        <p class="nombre">{{ animals.nombre }}</p>
        <p class="ciudad">{{ animals.ciudad }}</p>
      </div>
      <button (click)="handleLikeClick()" class="card-cabecera-button">
        <img
          src="../../../assets/primary_icons/little_icons_standOut/favoritos_little_standOut/favoritos@3x.png"
          alt="Me gusta"
        />
      </button>
      <button (click)="handleShareClick()" class="card-cabecera-button">
        <img
          src="../../../assets/primary_icons/comms_icons_standOut/share_little_standOut/compartir@3x.png"
          alt="Compartir"
        />
      </button>
    </div>

    <mat-tab-group>
      <mat-tab label="Datos">
        <div class="imagen-filtro">
          <div class="detalil">
            <div *ngIf="animals" class="detail2">
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Especie</span>
                </div>
                <div>
                  <span class="detail2-line-especie">{{
                    animals.especie
                  }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Fecha de nacimiento</span>
                </div>
                <div>
                  <span>{{
                    animals.fechaDeNacimiento | date : "dd-MM-yyyy"
                  }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Sexo</span>
                </div>
                <div>
                  <span>{{ animals.genero }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Tamaño</span>
                </div>
                <div>
                  <span>{{ animals.size }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Peso</span>
                </div>
                <div>
                  <span>{{ animals.peso }} Kg</span>
                </div>
              </div>
            </div>

            <div class="detail3">
              <div class="detail3-title">
                <span>Personalidad</span>
              </div>
              <div>
                <div
                  *ngFor="let personalidadAnimal of personalidades"
                  class="detail3-father"
                >
                  <span
                    *ngFor="let per of personalidadAnimal"
                    class="detail3-father-personality"
                    >{{ per }}</span
                  >
                </div>
              </div>
            </div>

            <div class="detail4">
              <div *ngIf="animals">
                <div class="detail4-title">
                  <p>Historia</p>
                </div>
                <div class="detail4-text">
                  <p>{{ animals.historia }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

      <mat-tab label="Salud">
        <div class="imagen-filtro">
          <div>
            <div *ngIf="animals" class="detail2">
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Vacunado</span>
                </div>
                <div>{{ boolToWord(animals.vacunado) }}</div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Desparasitado</span>
                </div>
                <div>
                  <span>{{ boolToWord(animals.desparasitado) }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Sano</span>
                </div>
                <div>
                  <span>{{ boolToWord(animals.sano) }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Esterilizado</span>
                </div>
                <div>
                  <span>{{ boolToWord(animals.esterilizado) }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Identificado</span>
                </div>
                <div>
                  <span>{{ boolToWord(animals.identificado) }}</span>
                </div>
              </div>
              <div class="detail2-line">
                <div>
                  <img
                    src="../../../assets/primary_icons/listStyle_icon/pawprint@3x.png"
                    alt=""
                  />
                  <span>Microchip</span>
                </div>
                <div>
                  <span>{{ boolToWord(animals.microchip) }}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="detail4">
            <div *ngIf="animals">
              <div class="detail4-title">
                <p>Tienes que saber que</p>
              </div>
              <div class="detail4-text">
                <p>{{ animals.aSaber }}</p>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

      <mat-tab label="Adopción">
        <div *ngIf="animals">
          <div class="imagen-filtro">
            <div class="detail4">
              <div class="detail4-title">
                <p>Requisitos adopción</p>
              </div>
              <div class="detail4-text">
                <p>{{ animals.requisitosAdopcion }}</p>
              </div>
            </div>

            <div class="detail4">
              <div class="detail4-title">
                <span>Tasa de adopción</span>
                <span class="img-container">
                  <img
                    (click)="openInfo()"
                    src="../../../assets/primary_icons/little_icons_standOut/help_little_standOut/ayuda@3x.png"
                    alt=""
                  />
                </span>
              </div>
              <div class="detail4-text">
                <p>{{ animals.tasaAdopcion }} €</p>
              </div>
              <div *ngIf="info" class="popup-background" (click)="closeInfo()">
                <div class="popup">
                  <div class="popUp__whiteBox">
                    <div class="popUp__whiteBox--title">
                      <p>Informacion de las tasas</p>
                    </div>
                    <div class="popUp__whiteBox--text">
                      <p>
                        Las tasas de la adopcion van destinadas a las medicinas,
                        comida y tiempo que invierte nuestro personal.
                      </p>
                    </div>
                    <button
                      class="popUp__whiteBox--buttons--1"
                      (click)="closeInfo()"
                    >
                      Cancelar
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="detail4">
              <div class="detail4-title">
                <p>¿Se envía a otra ciudad?</p>
              </div>
              <div class="detail4-text">
                <p>{{ animals.seEnvia }}</p>
              </div>

              <div class="popup-container" *ngIf="apadrinar">
                <div class="popup-overlay" (click)="closeApadrinar()"></div>
                <div class="popup-content">
                  <div class="popup-header">
                    <h2>Sección en construcción</h2>
                  </div>
                  <div class="popup-body">
                    <p>
                      Disculpa las molestias, esta sección está en construcción.
                    </p>
                  </div>
                  <div class="popup-footer">
                    <button class="cancel-button" (click)="closeApadrinar()">
                      Cancelar
                    </button>
                  </div>
                </div>
              </div>
              <!-- <app-pop-up *ngIf="mostrarVentanaEmergente()"></app-pop-up> -->
            </div>
            <div class="buttons">
              <button class="open-popup-button" (click)="openApadrinar()">
                Apadrinar
              </button>
              <button
                class="open-popup-button"
                (click)="abrirVentanaEmergente()"
              >
                Adoptar
              </button>
            </div>
          </div>
        </div>
      </mat-tab></mat-tab-group
    >
  </div>
</section>
